# 1. Беремо базу: легкий Linux з встановленим Node.js 18
FROM node:22-alpine

# 2. Створюємо папку всередині контейнера
WORKDIR /app

# 3. Копіюємо файли package.json (щоб встановити бібліотеки)
COPY package*.json ./

# 4. Встановлюємо бібліотеки (тільки ті, що потрібні для роботи)
RUN npm install --only=production

# 5. Копіюємо весь інший код сервера в контейнер
COPY . .

# 6. Кажемо, що цей контейнер буде використовувати порт 5000
EXPOSE 5000

# 7. Команда запуску: node server.js
CMD ["node", "server.js"]
